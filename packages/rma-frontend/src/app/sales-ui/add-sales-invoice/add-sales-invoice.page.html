<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="navigateBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Add Sales Invoice</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="page-background">
  <ion-grid class="ion-no-padding">
    <ion-row class="ion-no-padding">
      <ion-col class="ion-no-padding">
        <ion-card>
          <ion-card-header>
            <ion-card-title>
              <ion-text color="tertiary">
                Details
              </ion-text>
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-grid no-padding>
              <ion-row>
                <ion-col size="5">
                  <ion-item>
                    <ion-label position="floating">Series</ion-label>
                    <ion-select
                      interface="popover"
                      placeholder="Select Series"
                      [(ngModel)]="salesInvoice.series"
                    >
                      <ion-select-option value="sinv">SINV-</ion-select-option>
                      <ion-select-option value="sinvret"
                        >SINV-RET-</ion-select-option
                      >
                    </ion-select>
                  </ion-item>
                </ion-col>
                <ion-col offset="2" size="5">
                  <ion-item>
                    <ion-label position="floating">Company</ion-label>
                    <ion-select
                      interface="popover"
                      placeholder="Select Company"
                      [(ngModel)]="salesInvoice.company"
                    >
                      <ion-select-option value="Test Company"
                        >Test Company</ion-select-option
                      >
                      <ion-select-option value="Siddhi Company"
                        >Siddhi Company</ion-select-option
                      >
                    </ion-select>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="5">
                  <ion-item>
                    <ion-label position="floating">Customer</ion-label>
                    <ion-select
                      interface="popover"
                      placeholder="Select Customer"
                      [(ngModel)]="salesInvoice.customer"
                    >
                      <ion-select-option
                        [value]="customer"
                        *ngFor="let customer of customerList"
                        >{{customer.name}}</ion-select-option
                      >
                    </ion-select>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row class="ion-no-padding">
      <ion-col class="ion-no-padding">
        <ion-card>
          <ion-card-header>
            <ion-card-title>
              <ion-text color="tertiary">
                Address
              </ion-text>
            </ion-card-title>
            <!-- <button mat-raised-button color="primary">Primary</button> -->
          </ion-card-header>
          <ion-card-content *ngIf="salesInvoice.customer.name !== '' ">
            <ion-grid class="ion-no-padding">
              <ion-row>
                <ion-col size="5">
                  <ion-item lines="none">
                    <ion-label position="stacked">Customer address</ion-label>
                    {{salesInvoice.customer.addressLine1}}
                    <br />
                    {{salesInvoice.customer.addressLine2}}
                    <br />
                    {{salesInvoice.customer.city}} -
                    {{salesInvoice.customer.pinCode}}
                  </ion-item>
                </ion-col>
                <ion-col offset="2" size="5">
                  <ion-item lines="none">
                    <ion-label position="stacked">Contact Person</ion-label>
                    <!-- <ion-input
                      disabled
                      type="text"
                      [(ngModel)]="salesInvoice.customer.name"
                    ></ion-input> -->
                    {{salesInvoice.customer.name}}
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row class="ion-no-padding">
      <ion-col class="ion-no-padding">
        <ion-card>
          <ion-card-header>
            <ion-row class="align">
              <ion-col>
                <ion-card-title>
                  <ion-text color="tertiary">
                    Items
                  </ion-text>
                </ion-card-title>
              </ion-col>
              <ion-col class="ion-text-right" size="auto">
                <ion-button color="tertiary" fill="outline" (click)="addItem()">
                  Add
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-card-header>
          <ion-card-content class="ion-no-padding">
            <ion-item lines="none">
              <table mat-table [dataSource]="dataSource" style="width: 100%;">
                <ng-container matColumnDef="item">
                  <th mat-header-cell *matHeaderCellDef>Item</th>
                  <td mat-cell *matCellDef="let row">{{row.name}}</td>
                </ng-container>
                <ng-container matColumnDef="quantity">
                  <th mat-header-cell *matHeaderCellDef>Quantity</th>
                  <td mat-cell *matCellDef="let row">{{row.quantity}}</td>
                </ng-container>
                <ng-container matColumnDef="rate">
                  <th mat-header-cell *matHeaderCellDef>Rate</th>
                  <td mat-cell *matCellDef="let row">{{row.rate}}</td>
                </ng-container>
                <tr
                  mat-header-row
                  *matHeaderRowDef="displayedColumns; sticky: true"
                ></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns;"
                ></tr>
              </table>
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
